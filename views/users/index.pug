extends ../layouts/common.pug

block content
	- var qSearch = qSearch
	.d-flex.align-items-center
		h1 User List

		a.btn.btn-primary.ml-3(href="/users/create") New User

	form.form-inline.d-flex.justify-content-end(action="/users/search" method="get")
		.form-group
			if qSearch
				input(type="text" placeholder="search..." name="q" value=qSearch class="form-control")
			else 
				input(type="text" placeholder="search..." name="q" class="form-control")
			input(type="submit" value="Search" class="btn btn-primary ml-2")
			
	table.table
		tr
			th Avatar
			th Name
			th Phone
			th Actions
		each user in users
			tr 
				td
					img(src="../" + user.avatar, width="32")
				td= user.name
				td= user.phone
				td
					a.btn.btn-success(href="/users/" + user.id) View
					a.btn.btn-danger.ml-2(href="/users/delete/" + user.id) Remove
